(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1098:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(114),i=n.n(s),o=n(154),c=n(34),u=n(75),p=n(14),l=n(2),y=n.n(l),m=n(42),d=n(37),f=n(74),b=function(e){var t=e.account;return r.a.createElement("div",null,t.length<=8?t:t.substring(0,4)+".."+t.substring(t.length-4,t.length))},v=n(115),w=n.n(v),g=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"string",name:"_initBaseURI",type:"string"},{internalType:"string",name:"_initNotRevealedUri",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseExtension",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"cost",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxMintAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_mintAmount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"notRevealedUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"_state",type:"bool"}],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revealed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newBaseExtension",type:"string"}],name:"setBaseExtension",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newBaseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newCost",type:"uint256"}],name:"setCost",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_notRevealedURI",type:"string"}],name:"setNotRevealedURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newmaxMintAmount",type:"uint256"}],name:"setmaxMintAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"walletOfOwner",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"payable",type:"function"}],x="0x183532AE7A953e5C958e01B53E0fac1B2603a618",T=new w.a("https://api.baobab.klaytn.net:8651/").contract.create(g,x),h=function(e){var t=e.onConnected,n=e.setContract,s=e.account,i=e.children,o=function(){var e=Object(m.a)(y.a.mark(function e(t){var a,r,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.klaytn){e.next=3;break}return alert("Get MetaMask!"),e.abrupt("return");case 3:return e.next=5,window.klaytn.enable();case 5:a=e.sent,console.log("account:"+a[0]),t(a[0]),r=new w.a(window.klaytn),s=new r.klay.Contract(g,x),n(s),console.log(s),c();case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(m.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("phaser_game_account",s),t=localStorage.getItem("phaser_game_account"),console.log("session: "+t);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(m.a)(y.a.mark(function e(t){var a,r,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.klaytn){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,window.klaytn.enable();case 4:a=e.sent,console.log("account:"+a[0]),t(a[0]),r=new w.a(window.klaytn),s=new r.klay.Contract(g,x),n(s),c();case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){p(t)},[]),r.a.createElement(d.d,{h:"100vh"},r.a.createElement(d.b,{bg:"purple.200",p:4,justifyContent:"space-around",alignItems:"center"},r.a.createElement(d.a,null,r.a.createElement(d.e,{fontWeight:"bold"},"h662-Animals")),r.a.createElement(u.b,{to:"/"},r.a.createElement(f.a,{size:"sm",colorScheme:"blue"},"Main")),r.a.createElement(u.b,{to:"nft-storage"},r.a.createElement(f.a,{size:"sm",colorScheme:"blue"},"NFT-Storage")),r.a.createElement(u.b,{to:"game-storage"},r.a.createElement(f.a,{size:"sm",colorScheme:"blue"},"GAME-Storage")),r.a.createElement(u.b,{to:{pathname:"game"},target:"_top"},r.a.createElement(f.a,{size:"sm",colorScheme:"blue"},"GAME")),r.a.createElement(u.b,{to:"/game"},r.a.createElement(f.a,{size:"sm",colorScheme:"blue"},"GAME2")),r.a.createElement(f.a,{size:"sm",colorScheme:"blue",onClick:function(){window.location.replace("http://localhost:8000")}},"GAME3"),r.a.createElement(f.a,{onClick:function(){return o(t)}},""===s?"login":r.a.createElement(b,{account:s}))),r.a.createElement(d.b,{direction:"column",h:"full",justifyContent:"center",alignItems:"center"},i))},E=n(85),k=n.n(E),j=n(449),M=function(e){var t=e.nftId,n=(e.type,e.lot?e.lot:1);return r.a.createElement(d.a,null,r.a.createElement(j.a,{w:150,h:150,src:"".concat("","/images/").concat(t,".png"),alt:"animalImage"}),r.a.createElement(d.a,{flexDirection:"row"},r.a.createElement(f.a,{size:"sm",onClick:function(){window.open("http://www.opensea.com")}},"#".concat(t," X ").concat(n))))},I=function(e){var t=Object(a.useState)(!0),n=Object(c.a)(t,2),s=n[0],i=n[1],o=e.account,u=e.nftId,p=function(){var e=Object(m.a)(y.a.mark(function e(){var t,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!1),e.next=3,k.a.post("/transactions/on-chain/nft",{toAccount:o,nftId:u});case 3:return t=e.sent,console.log(t),t.data.transactionHash,e.next=8,k.a.delete("inventory/"+o+"/items/"+u);case 8:n=e.sent,console.log(n);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(d.a,{textAlign:"center",w:150},r.a.createElement(M,{nftId:e.nftId,type:e.type,lot:e.lot}),r.a.createElement(f.a,{disabled:!s,size:"sm",colorScheme:"blue",mt:2,onClick:p,display:"inline-block"},"to NFT"))},O=function(e){var t=e.account,n=Object(a.useState)([{nftId:500,type:33}]),s=Object(c.a)(n,2),i=s[0],o=s[1],u=function(){var e=Object(m.a)(y.a.mark(function e(){var n,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("/api/inventory/"+t);case 3:n=e.sent,a=[],console.log(n),n.data.items.map(function(e){a.push({nftId:e.nft_id,type:0,lot:e.lot})}),o(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){u()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.c,{templateColumns:"repeat(4, 1fr)",gap:8,mt:4},i&&i.map(function(e,n){return r.a.createElement(I,{key:n,nftId:e.nftId,type:e.type,account:t,lot:e.lot})})))},C=function(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),s=n[0],i=n[1],o=Object(a.useState)("Let's mint token"),u=Object(c.a)(o,2),p=u[0],l=u[1],b=e.account,v=e.contract,w=function(){var e=Object(m.a)(y.a.mark(function e(t,n){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b||console.error("err"),console.log(b),v){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,v.methods.mint(1).estimateGas({from:b,gas:6e6,value:"0x16345785d8a0000"});case 7:return a=e.sent,console.log(a),e.next=11,v.methods.mint(1).send({from:b,gas:a,value:"0x16345785d8a0000"});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(d.b,{w:"full",h:"100vh",justifyContent:"center",alignItems:"center",direction:"column"},r.a.createElement(f.a,{mt:4,size:"sm",colorScheme:"blue",onClick:function(){return w(i,l)}},"mint"),r.a.createElement(d.a,{alignItems:"center"},r.a.createElement(d.e,null," ",s&&"txid: "+s),r.a.createElement(d.e,{alignItems:"center"}," ",p)))};var A=function(e){var t=e.account,n=e.nftId,a=e.contract,s=function(){var r=Object(m.a)(y.a.mark(function r(){var s,i,o;return y.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,console.log("to game"),a){r.next=5;break}return console.log("contract: "+a),r.abrupt("return");case 5:return console.log(a),r.next=8,a.methods.safeTransferFrom(t,"0x64202df721245ed4988eDf4F57DC7A966C0c259a",e.nftId).estimateGas({from:t,gas:6e6});case 8:return s=r.sent,console.log(t,"0x64202df721245ed4988eDf4F57DC7A966C0c259a",n),r.next=12,a.methods.safeTransferFrom(t,"0x64202df721245ed4988eDf4F57DC7A966C0c259a",n).send({from:t,gas:s});case 12:if(i=r.sent,console.log(i),console.log(i.transactionHash),!i.transactionHash){r.next=20;break}return r.next=18,k.a.put("/inventory/"+t+"/items/"+n);case 18:o=r.sent,console.log("add item: "+o);case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(0),console.error(r.t0);case 25:case"end":return r.stop()}},r,null,[[0,22]])}));return function(){return r.apply(this,arguments)}}();return r.a.createElement(d.a,{textAlign:"center",w:150},r.a.createElement(M,{nftId:e.nftId,type:e.type}),r.a.createElement(f.a,{size:"sm",colorScheme:"blue",mt:2,onClick:s,display:"inline-block"},"to Game"))},S=function(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),s=n[0],i=n[1],o=e.account,u=e.contract,p=function(){var e=Object(m.a)(y.a.mark(function e(){var t,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.methods.balanceOf(o).call();case 3:if("0"!==e.sent){e.next=6;break}return e.abrupt("return");case 6:return t=[],e.next=9,T.methods.walletOfOwner(o).call();case 9:n=e.sent,console.log(n),n.map(function(e){t.push({nftId:e,type:0})}),i(t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){o&&p()},[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.c,{templateColumns:"repeat(4, 1fr)",gap:8,mt:4},s&&s.map(function(e,t){return r.a.createElement(A,{key:t,nftId:e.nftId,type:e.type,account:o,contract:u})})))},_=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(),o=Object(c.a)(i,2),l=o[0],y=o[1];return r.a.createElement(u.a,null,r.a.createElement(h,{onConnected:s,setContract:y,account:n},r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",element:r.a.createElement(C,{account:n,contract:l})}),r.a.createElement(p.a,{path:"nft-storage",element:r.a.createElement(S,{account:n,contract:l})}),r.a.createElement(p.a,{path:"game-storage",element:r.a.createElement(O,{account:n})}))))},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1102)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)})};n(1096).config(),console.log("http://localhost:3000"),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(_,null))),document.getElementById("root")),F()},486:function(e,t,n){e.exports=n(1098)},493:function(e,t,n){var a={"./caver-abi/src/index.js":116,"./caver-account/src/index.js":66,"./caver-contract/src/index.js":81,"./caver-core-helpers/src/index.js":29,"./caver-core-method/src/index.js":58,"./caver-core-requestmanager/caver-providers-http/src/index.js":307,"./caver-core-requestmanager/caver-providers-ipc/src/index.js":317,"./caver-core-requestmanager/caver-providers-ws/src/index.js":306,"./caver-core-requestmanager/src/index.js":304,"./caver-core-subscriptions/src/index.js":103,"./caver-core/src/index.js":45,"./caver-ipfs/src/index.js":320,"./caver-kct/src/index.js":427,"./caver-klay/caver-klay-accounts/src/index.js":430,"./caver-klay/caver-klay-personal/src/index.js":433,"./caver-klay/src/index.js":434,"./caver-middleware/src/index.js":184,"./caver-net/src/index.js":240,"./caver-rpc/src/index.js":435,"./caver-rtm/src/index.js":110,"./caver-transaction/src/index.js":436,"./caver-utils/iban/src/index.js":300,"./caver-utils/promievent/src/index.js":299,"./caver-utils/src/index.js":10,"./caver-validator/src/index.js":437,"./caver-wallet/src/index.js":208};function r(e){var t=s(e);return n(t)}function s(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=493},495:function(e,t){},505:function(e,t){},507:function(e,t){},517:function(e,t){},519:function(e,t){},545:function(e,t){},551:function(e,t){},570:function(e,t){},615:function(e,t){},617:function(e,t){},708:function(e,t){},714:function(e,t){},726:function(e,t){},727:function(e,t){}},[[486,1,2]]]);
//# sourceMappingURL=main.cbfdfab0.chunk.js.map